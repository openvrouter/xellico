

考察
====

全体の考察をする

Delayの考察
-----------

送受信関数の考察
----------------

TxBufferの考察
--------------

RSSの考察
---------

10GbEレベルでは, RSSは理想的なロードバランス性能を出すことができる.
このため, コアの数さえおおくあれば, あらゆるVNFが10GbEのWirerateを
達成できることになる.

今後の展望
----------

今回の実験では, RSS, TxBufferの試験を詳細に行うために, Xellico
というソフトウェアルータを開発した. 内部レイテンシの実験は,
Xellicoの実装内部に直接rdtscを用いた遅延計測コードを挿入したが,
これらの計測ごとにDPDKルータにコードを挿入するのは非常に困難な場合がある.
特にエンタープライズを想定するソフトウェアルータ等に今回のような
コード挿入を行うのはコストが高いため, できれば, 外部プロセスから
今回計測したような関数レイテンシを計測したい.

bcc/eBPFは高性能なトレーシングツールとして知られており, 今回の関数レイテンシ
の計測に利用できる可能性がある. ただ, 10GbE以上の制度を正確に計測できるか
が未知数であるため, 検討検証する必要がある.

また, XellicoでのRSSの構成変更等の設定はjsonファイルを
起動時に読み込むことで円滑に行うことができたが, 構成変更ごとに,
Jsonファイルの再編集, Xellicoの再起動を手作業で行う必要があったため
実験に時間がかかった.

openconfigdはルータ等のコンフィグ管理や起動管理を行うことができる
デーモンであり, Xellicoをopenconfigdに対応させることにより,
これらの問題を解決できるかもしれない.

