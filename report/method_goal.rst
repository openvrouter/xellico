
研究の目標
=============

先ほどの方針から, 研究の目標を以下の2つとして定める.

- ハードウェア特性をまとめる
- VNF開発時に性能目標と使用HWを決めた時の細かい目標を単純に示す.

ハードウェア特性をまとめる
--------------------------

HW特性とはなにか. 例えばよく知られているHW特性を考えてみよう.
Intel XL710は64Byteのパケットではワイヤーレートで動作をしない.
[PANDA20150409]_ , [YASUaintec]_ . 他にも, Intel x540はNUMAまたぎの
RSS queueを1個にした時, パケットフォワード時に8500Mbps近くを天井に性能限界に陥る.
これらはソフトウェア側からは判断仕切れない問題であり, 現状では
どこに問題があるのかが推定しきれない.
しかし, 細かくHWカウンタ等を記録し, それを外部トラフィック計測器と
照らし合わせることにより, どこでパケットが送信仕切れていないのか. 等が
わかるはずである.

本研究では, 内部で計測したマイクロレイテンシと, 外部で計測したベンチマークを
照らし合わせ, どのレイヤでこれらのギャップが生じているかを推定する.

ここではハードウェア特性は以下の様に定義した.

rx_burst
^^^^^^^^^

バルクサイズを変更させた時にどの程度遅延に変化が現れるか.
また, パケットサイズによっても遅延に変化が現れるかをしらべる.

tx_buffer
^^^^^^^^^

tx_buffer_flush
^^^^^^^^^^^^^^^

VNF開発時に性能目標と使用HWを決めた時の細かい目標を単純に示す
--------------------------------------------------------------

本研究の成果として, 新しいVNFを開発する時の性能推定があげられる.
実際に使用するハードウェアの細かいマイクロベンチマークを集めて
計算することにより, 性能を実際に図らずとも推定することをしたい.
例えば, 3GHzで動くXeon E5の2socket サーバを容易し, 各socketに
2つずつ, Intel X540 1portを装着した場合での細かいマイクロベンチマーク
はどの様になるのか. ``rte_eth_rx_brust`` 関数の遅延はburstサイズに
合わせてどの様に変化するのか. 等を調べる必要があある.
